#import '../fragments/UserInfo.graphql'

query {
  user {
    ...UserInfo

    memberOf {
      id
      name
      avatar

      channels {
        id
        children {
          id
        }
      }
    }
      
    friends {
      ...UserInfo
      
      memberOf {
        id
        name
        avatar

        channels {
          id
          children {
            id
          }
        }
      }
      
      dmChannels {
        id
        recipients {
          id
          username
        }
      }
    }

    incomingRequests {
      id 

      from {
        ...UserInfo
      
        memberOf {
          id
          name
          avatar

          channels {
            id
            children {
              id
            }
          }
        }
      }   
    }

    outgoingRequests {
      to {
        ...UserInfo
      
        memberOf {
          id
          name
          avatar

          channels {
            id
            children {
              id
            }
          }
        }
      }   
    }
    
  }
}
