# import * from './generated/prisma.graphql'

type AuthPayload {
  token: String
  user: User
}

type User {
  id: ID!

  email: String!
  username: String!
  avatar: String
  
  ownerOf: [Guild!]! 
  memberOf: [Guild!]!
  messages: [Message!]!
}

type Mutation {
  signup(email: String!, password: String!, username: String!, avatar: String) : AuthPayload
  login(email: String!, password: String!): AuthPayload

  createGuild(guildname: String!, avatar: String): Guild
  joinGuild(id: ID!): Guild
  createChannel(id: ID!, type: Int!, channelname: String!) : Channel
  createMessage(id: ID!, content: String!): Message
}

type Query {
  user(id: ID): User
  guildlist: [Guild!]!
  allChannels(id: ID!): [Channel!]!
  allMessages(id: ID!): [Message!]!
}